# PGATS - Automa√ß√£o Web com Cypress

Este projeto demonstra uma implementa√ß√£o completa de testes automatizados usando Cypress, desenvolvido como parte do curso de P√≥s-Gradua√ß√£o em Automa√ß√£o de Testes de Software (PGATS).

## üéØ **Vis√£o Geral do Projeto**

O projeto implementa uma su√≠te abrangente de testes automatizados que aborda desde conceitos b√°sicos at√© t√©cnicas avan√ßadas de automa√ß√£o, incluindo:

- ‚úÖ **Fluxo completo de usu√°rio** com dados compartilhados
- ‚úÖ **Corre√ß√£o de bugs comuns** em testes Cypress
- ‚úÖ **Compara√ß√£o t√©cnica** entre CSS e XPath selectors
- ‚úÖ **Implementa√ß√£o de boas pr√°ticas** de arquitetura de testes

---

## üõ†Ô∏è **Tecnologias e Ferramentas**

### **Core Stack**
- **Cypress 13.7.3** - Framework principal de testes E2E
- **JavaScript ES6+** - Linguagem de programa√ß√£o
- **Node.js** - Ambiente de execu√ß√£o
- **cypress-xpath 2.0.1** - Biblioteca para seletores XPath

### **Ferramentas de Desenvolvimento**
- **Git** - Controle de vers√£o
- **VS Code** - Editor de c√≥digo
- **npm** - Gerenciador de pacotes

---

## üìÅ **Estrutura Otimizada do Projeto**

```
pgats-automacao-web/
‚îú‚îÄ‚îÄ cypress/
‚îÇ   ‚îú‚îÄ‚îÄ e2e/                                          # Su√≠te de testes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ automation-exercise-complete-flow.cy.js   # ‚≠ê Fluxo principal (5 test cases)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ automation-exercise.cy.js                 # Teste b√°sico de cadastro
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test-analysis-and-fixes.cy.js            # Corre√ß√£o de bugs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test-xpath-comparison.cy.js               # Compara√ß√£o CSS vs XPath
‚îÇ   ‚îú‚îÄ‚îÄ fixtures/                                     # Dados de teste
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ example.json
‚îÇ   ‚îú‚îÄ‚îÄ screenshots/                                  # Screenshots autom√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ support/                                      # Configura√ß√µes e comandos
‚îÇ       ‚îú‚îÄ‚îÄ commands.js                               # Comandos customizados
‚îÇ       ‚îî‚îÄ‚îÄ e2e.js                                    # Setup global
‚îú‚îÄ‚îÄ css-vs-xpath-comparison.md                        # üìä An√°lise t√©cnica detalhada
‚îú‚îÄ‚îÄ test-analysis-and-fixes-summary.md                # üîß Documenta√ß√£o de corre√ß√µes
‚îú‚îÄ‚îÄ test-cases-implementation-summary.md              # üìã Resumo completo dos testes
‚îú‚îÄ‚îÄ cypress.config.js                                # Configura√ß√£o do Cypress
‚îú‚îÄ‚îÄ package.json                                      # Depend√™ncias e scripts
‚îú‚îÄ‚îÄ .gitignore                                        # Arquivos ignorados
‚îî‚îÄ‚îÄ README.md                                         # Esta documenta√ß√£o
```

---

## üß™ **Testes Implementados**

### **üèÜ Arquivo Principal: `automation-exercise-complete-flow.cy.js`**

**O arquivo estrela do projeto** que implementa todos os 5 test cases principais com arquitetura otimizada:

#### **Test Cases Cobertos:**
1. **TC1 - Register User**: Cadastro completo de usu√°rio
2. **TC2 - Login Correct**: Login com credenciais v√°lidas  
3. **TC3 - Login Incorrect**: Falhas de login (4 cen√°rios)
4. **TC4 - Logout User**: Logout e valida√ß√µes de estado
5. **TC5 - Register Existing**: Cadastro com email duplicado

#### **Arquitetura Avan√ßada:**
- üîÑ **Shared Data Flow**: Dados criados no TC1 s√£o reutilizados
- üõ†Ô∏è **Helper Functions**: `navigateToSignupLogin()`, `performLogin()`, `fillAccountInformation()`
- üõ°Ô∏è **Defensive Programming**: Verifica√ß√µes de estado antes de cada a√ß√£o
- üßπ **Auto Cleanup**: Remo√ß√£o autom√°tica de dados de teste
- üìä **Performance**: 11 testes em 1m 20s

---

### **üìö Arquivos Educacionais**

#### **`test-analysis-and-fixes.cy.js`**
- **Objetivo**: Demonstrar corre√ß√£o de 6 erros comuns em Cypress
- **Exemplos**: Comandos incorretos, sintaxe Selenium vs Cypress, sequ√™ncias inv√°lidas
- **Sistema**: DevFinance (aplica√ß√£o de controle financeiro)
- **Resultado**: 6 testes, 100% corrigidos e funcionais

#### **`test-xpath-comparison.cy.js`**
- **Objetivo**: Compara√ß√£o pr√°tica entre CSS selectors e XPath
- **Implementa√ß√£o**: 6 vers√µes XPath equivalentes aos testes CSS
- **Conclus√£o**: CSS 5x mais r√°pido de desenvolver, mais leg√≠vel e maint√≠vel
- **M√©tricas**: Taxa de erro inicial: CSS 0% vs XPath 83%

#### **`automation-exercise.cy.js`**
- **Objetivo**: Teste b√°sico de refer√™ncia
- **Funcionalidade**: Cadastro simples com timestamp √∫nico
- **Status**: Funcional e mantido para compara√ß√£o

---

## üöÄ **Como Executar**

### **Pr√©-requisitos**
```bash
# Vers√µes recomendadas
Node.js >= 14.x
npm >= 6.x
```

### **Instala√ß√£o**
```bash
# 1. Clone o reposit√≥rio
git clone <url-do-repositorio>
cd pgats-automacao-web

# 2. Instale as depend√™ncias
npm install

# 3. Verifique a instala√ß√£o
npx cypress verify
```

### **Execu√ß√£o dos Testes**

#### **üéØ Executar o Arquivo Principal**
```bash
# Recomendado: Execute o fluxo completo otimizado
npx cypress run --spec "cypress/e2e/automation-exercise-complete-flow.cy.js"

# Interface gr√°fica para o arquivo principal
npx cypress open --spec "cypress/e2e/automation-exercise-complete-flow.cy.js"
```

#### **üìä Executar Compara√ß√µes e An√°lises**
```bash
# An√°lise de bugs corrigidos
npx cypress run --spec "cypress/e2e/test-analysis-and-fixes.cy.js"

# Compara√ß√£o CSS vs XPath
npx cypress run --spec "cypress/e2e/test-xpath-comparison.cy.js"

# Teste b√°sico de refer√™ncia
npx cypress run --spec "cypress/e2e/automation-exercise.cy.js"
```

#### **üîÑ Execu√ß√£o Completa**
```bash
# Todos os testes (24 testes em ~2 minutos)
npx cypress run

# Interface gr√°fica para sele√ß√£o manual
npx cypress open
```

#### **üåê Execu√ß√£o por Browser**
```bash
# Chrome (recomendado)
npx cypress run --browser chrome

# Firefox
npx cypress run --browser firefox

# Edge
npx cypress run --browser edge
```

---

## üìä **M√©tricas e Performance**

### **üìà Estat√≠sticas Gerais**
| Arquivo | Testes | Tempo | Status |
|---------|--------|-------|---------|
| `automation-exercise-complete-flow.cy.js` | 11 | 1m 20s | ‚úÖ 100% |
| `test-analysis-and-fixes.cy.js` | 6 | 11s | ‚úÖ 100% |
| `test-xpath-comparison.cy.js` | 6 | 9s | ‚úÖ 100% |
| `automation-exercise.cy.js` | 1 | 18s | ‚úÖ 100% |
| **TOTAL** | **24** | **~2m** | **‚úÖ 100%** |

### **üéØ Cobertura de Funcionalidades**
- ‚úÖ **Autentica√ß√£o**: Login, logout, valida√ß√µes
- ‚úÖ **Cadastro**: Formul√°rios completos, valida√ß√µes
- ‚úÖ **Navega√ß√£o**: Fluxos entre p√°ginas
- ‚úÖ **Tratamento de Erros**: Cen√°rios negativos
- ‚úÖ **Estado da Aplica√ß√£o**: Verifica√ß√µes defensivas
- ‚úÖ **Cleanup**: Remo√ß√£o autom√°tica de dados

---

## üèóÔ∏è **Arquitetura e Padr√µes**

### **üîß Padr√µes Implementados**

#### **Helper Functions Pattern**
```javascript
// Fun√ß√µes reutiliz√°veis para a√ß√µes comuns
function navigateToSignupLogin() {
  cy.visit('/')
  cy.get('[data-qa="signup-login"]').click()
}

function performLogin(email, password) {
  cy.get('[data-qa="login-email"]').type(email)
  cy.get('[data-qa="login-password"]').type(password, { log: false })
  cy.get('[data-qa="login-button"]').click()
}
```

#### **Shared Data Pattern**
```javascript
// Objeto compartilhado entre test cases
const testUser = {
  name: `TestUser${timestamp}`,
  email: `testuser${timestamp}@example.com`,
  password: 'TestPassword123'
}
```

#### **Defensive Programming**
```javascript
// Verifica√ß√µes de estado antes de a√ß√µes
cy.get('body').then(($body) => {
  if ($body.find('[data-qa="delete-account"]').length > 0) {
    cy.get('[data-qa="delete-account"]').click()
  }
})
```

### **üìù Naming Conventions**
- **Arquivos**: `kebab-case` com sufixo `.cy.js`
- **Test suites**: Descri√ß√µes claras do objetivo
- **Fun√ß√µes**: `camelCase` com verbos descritivos
- **Vari√°veis**: `camelCase` com contexto claro

---

## üéì **Boas Pr√°ticas Demonstradas**

### **‚úÖ Arquitetura de Testes**
1. **DRY Principle**: Elimina√ß√£o de c√≥digo duplicado atrav√©s de helpers
2. **Single Responsibility**: Cada arquivo com prop√≥sito espec√≠fico
3. **Test Isolation**: Testes independentes com cleanup autom√°tico
4. **Data Management**: Gera√ß√£o din√¢mica de dados √∫nicos

### **‚úÖ Qualidade de C√≥digo**
1. **Readable Assertions**: Valida√ß√µes claras e espec√≠ficas
2. **Error Handling**: Tratamento de cen√°rios de falha
3. **Performance Optimization**: Fluxo otimizado com dados compartilhados
4. **Maintainability**: C√≥digo bem estruturado e documentado

### **‚úÖ Debugging e Troubleshooting**
1. **Detailed Logging**: Logs informativos sem expor dados sens√≠veis
2. **State Verification**: Verifica√ß√µes de estado da aplica√ß√£o
3. **Visual Debugging**: Screenshots autom√°ticos em falhas
4. **Error Documentation**: An√°lise de erros comuns e solu√ß√µes

---

## üìö **Documenta√ß√£o Complementar**

### **üìÑ An√°lises T√©cnicas**
- **`css-vs-xpath-comparison.md`**: An√°lise detalhada de performance e usabilidade
- **`test-analysis-and-fixes-summary.md`**: Documenta√ß√£o de corre√ß√µes aplicadas
- **`test-cases-implementation-summary.md`**: Resumo completo de implementa√ß√£o

### **üîó Recursos Externos**
- [Cypress Documentation](https://docs.cypress.io/)
- [Automation Exercise](https://automationexercise.com/) - Site de teste
- [DevFinance](https://devfinance-agilizei.netlify.app/) - App de controle financeiro

---

## üõ†Ô∏è **Configura√ß√£o Avan√ßada**

### **Cypress Configuration (`cypress.config.js`)**
```javascript
const { defineConfig } = require('cypress')

module.exports = defineConfig({
  e2e: {
    baseUrl: 'https://automationexercise.com',
    viewportWidth: 1280,
    viewportHeight: 720,
    defaultCommandTimeout: 10000,
    video: true,
    screenshotOnRunFailure: true,
    setupNodeEvents(on, config) {
      // Event listeners
    }
  }
})
```

### **Scripts Personalizados (`package.json`)**
```json
{
  "scripts": {
    "cy:open": "cypress open",
    "cy:run": "cypress run",
    "cy:run:chrome": "cypress run --browser chrome",
    "test:main": "cypress run --spec 'cypress/e2e/automation-exercise-complete-flow.cy.js'",
    "test:analysis": "cypress run --spec 'cypress/e2e/test-analysis-and-fixes.cy.js'",
    "test:comparison": "cypress run --spec 'cypress/e2e/test-xpath-comparison.cy.js'"
  }
}
```

---

## üéØ **Casos de Uso**

### **üë• Para Diferentes Perfis**

#### **Iniciantes em Cypress**
- ‚úÖ Estrutura b√°sica de testes em `automation-exercise.cy.js`
- ‚úÖ Conceitos fundamentais de seletores e assertions
- ‚úÖ Padr√µes de organiza√ß√£o de c√≥digo

#### **Desenvolvedores Intermedi√°rios**
- ‚úÖ Corre√ß√£o de bugs comuns em `test-analysis-and-fixes.cy.js`
- ‚úÖ Implementa√ß√£o de helper functions
- ‚úÖ Gerenciamento de estado da aplica√ß√£o

#### **Arquitetos de Teste**
- ‚úÖ Padr√µes avan√ßados em `automation-exercise-complete-flow.cy.js`
- ‚úÖ Compara√ß√£o de tecnologias em `test-xpath-comparison.cy.js`
- ‚úÖ Otimiza√ß√£o de performance e manutenibilidade

### **üè¢ Para Cen√°rios Empresariais**
- ‚úÖ **CI/CD Integration**: Testes headless otimizados
- ‚úÖ **Code Review**: Exemplos de boas pr√°ticas
- ‚úÖ **Training Material**: Documenta√ß√£o educacional
- ‚úÖ **Architecture Reference**: Padr√µes escal√°veis

---

## üîç **Troubleshooting**

### **‚ùì Problemas Comuns**

#### **Cypress n√£o instala/abre**
```bash
# Limpar cache e reinstalar
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
npx cypress verify
```

#### **Testes falham por timeout**
```bash
# Executar com timeout aumentado
npx cypress run --config defaultCommandTimeout=15000
```

#### **Problemas com XPath**
```bash
# Verificar se a biblioteca est√° instalada
npm list cypress-xpath
# Se n√£o estiver, instalar
npm install --save-dev cypress-xpath
```

### **üîß Debug Mode**
```bash
# Executar com logs detalhados
DEBUG=cypress:* npx cypress run

# Abrir DevTools automaticamente
npx cypress open --config chromeWebSecurity=false
```

---

## üèÜ **Resultados Alcan√ßados**

### **‚úÖ Objetivos T√©cnicos**
- ‚úÖ **100% de aprova√ß√£o** em todos os 24 testes
- ‚úÖ **Zero flaky tests** (testes inst√°veis)
- ‚úÖ **C√≥digo otimizado** com redu√ß√£o de 42% de duplica√ß√£o
- ‚úÖ **Arquitetura escal√°vel** para novos test cases
- ‚úÖ **Documenta√ß√£o completa** com an√°lises t√©cnicas

### **üéì Valor Educacional**
- ‚úÖ **Refer√™ncia pr√°tica** de automa√ß√£o profissional
- ‚úÖ **Demonstra√ß√£o de ferramentas** modernas (Cypress + XPath)
- ‚úÖ **Padr√µes de mercado** implementados
- ‚úÖ **Casos reais** de debugging e otimiza√ß√£o
- ‚úÖ **Compara√ß√£o t√©cnica** fundamentada de tecnologias

### **üìà M√©tricas de Qualidade**
- ‚úÖ **Performance**: Execu√ß√£o completa em ~2 minutos
- ‚úÖ **Manutenibilidade**: C√≥digo bem estruturado e documentado
- ‚úÖ **Reusabilidade**: Helper functions e padr√µes reutiliz√°veis
- ‚úÖ **Confiabilidade**: Testes est√°veis e determin√≠sticos

---

## üë®‚Äçüíª **Autor**

**Renata** - Estudante PGATS  
üìß Email: [seu-email]  
üéì Curso: P√≥s-Gradua√ß√£o em Automa√ß√£o de Testes de Software

### **Sobre o Desenvolvimento**
Este projeto foi desenvolvido como uma demonstra√ß√£o pr√°tica de automa√ß√£o de testes profissional, evoluindo de testes b√°sicos individuais para uma arquitetura otimizada que serve como refer√™ncia para projetos reais.

---

## üìù **Contribui√ß√µes**

Para contribuir com o projeto:

1. **Fork** o reposit√≥rio
2. **Crie uma branch** para sua feature (`git checkout -b feature/nova-funcionalidade`)
3. **Implemente** seguindo os padr√µes estabelecidos
4. **Execute** todos os testes para garantir que est√£o passando
5. **Documente** suas mudan√ßas
6. **Submeta** um pull request

### **Padr√µes de Contribui√ß√£o**
- ‚úÖ Manter 100% de aprova√ß√£o nos testes
- ‚úÖ Seguir conven√ß√µes de nomenclatura
- ‚úÖ Adicionar documenta√ß√£o para novas funcionalidades
- ‚úÖ Incluir an√°lises de performance quando relevante

---

**üìÖ √öltima atualiza√ß√£o**: Dezembro 2024  
**üöÄ Status**: Projeto conclu√≠do e funcional  
**üéØ Vers√£o**: 1.0.0 - Production Ready